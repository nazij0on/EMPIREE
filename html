<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏุงุดุจูุฑุฏ ุฎุตูุต ุดุฑฺฉุช</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged, signInWithCustomToken, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, collection, serverTimestamp, query, addDoc, where } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";

        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let app;
        let auth;
        let db;
        let storage;
        let userId;

        const loginForm = document.getElementById('login-form');
        const logoutBtn = document.getElementById('logout-btn');
        const mainDashboard = document.getElementById('main-dashboard');
        const fileUpdateForm = document.getElementById('file-update-form');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const fileList = document.getElementById('file-list');
        const welcomeMessage = document.getElementById('welcome-message');

        const characterModal = document.getElementById('character-modal');
        const closeCharacterModalBtn = document.getElementById('close-character-modal');
        const characterGallery = document.getElementById('character-gallery');
        const characterUploadForm = document.getElementById('character-upload-form');
        const uploadTypeSelect = document.getElementById('upload-type');
        const uploadFileInput = document.getElementById('upload-file');
        const uploadBtn = document.getElementById('upload-btn');
        const uploadProgressText = document.getElementById('upload-progress');

        const initFirebase = async () => {
            if (Object.keys(firebaseConfig).length > 0) {
                app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                storage = getStorage(app);
            } else {
                console.error("Firebase config is not available. Running in local mode.");
                return;
            }

            if (initialAuthToken) {
                try {
                    await signInWithCustomToken(auth, initialAuthToken);
                } catch (error) {
                    console.error("Error signing in with custom token:", error);
                    await signInAnonymously(auth);
                }
            } else {
                await signInAnonymously(auth);
            }

            onAuthStateChanged(auth, (user) => {
                if (user) {
                    userId = user.uid;
                    loginForm.classList.add('hidden');
                    mainDashboard.classList.remove('hidden');
                    welcomeMessage.textContent = `ุฎูุด ุขูุฏุฏุ ฺฉุงุฑุจุฑ ${userId.substring(0, 8)}...`;
                    setupDashboardListeners();
                    populateBibleContent();
                } else {
                    loginForm.classList.remove('hidden');
                    mainDashboard.classList.add('hidden');
                }
            });
        };

        const setupDashboardListeners = () => {
            const projectProgressDocRef = doc(db, `/artifacts/${appId}/public/data/project_status/master`);
            onSnapshot(projectProgressDocRef, (doc) => {
                if (doc.exists()) {
                    const data = doc.data();
                    const progress = data.progress;
                    progressFill.style.width = `${progress}%`;
                    progressText.textContent = `${progress}% ุชฺฉูู ุดุฏู`;
                }
            }, (error) => {
                console.error("Error getting project status:", error);
            });

            const fileUpdatesCollectionRef = collection(db, `/artifacts/${appId}/public/data/file_updates`);
            const q = query(fileUpdatesCollectionRef);
            onSnapshot(q, (snapshot) => {
                fileList.innerHTML = '';
                const updates = [];
                snapshot.forEach(doc => {
                    updates.push(doc.data());
                });

                updates.sort((a, b) => b.timestamp - a.timestamp);

                updates.forEach(update => {
                    const li = document.createElement('li');
                    li.className = 'p-4 bg-gray-700 rounded-lg flex justify-between items-center space-x-reverse space-x-4';
                    const time = update.timestamp ? new Date(update.timestamp.seconds * 1000).toLocaleString('fa-IR') : 'ูุงูุดุฎุต';
                    li.innerHTML = `
                        <div>
                            <p class="font-bold text-lg">${update.fileName}</p>
                            <p class="text-sm text-gray-400">ุชูุณุท: ${update.uploader} ุฏุฑ ${time}</p>
                        </div>
                    `;
                    fileList.appendChild(li);
                });
            }, (error) => {
                console.error("Error getting file updates:", error);
            });
        };

        const uploadFileForCharacter = async (e) => {
            e.preventDefault();
            const file = uploadFileInput.files[0];
            if (!file) {
                alert('ูุทูุง ฺฉ ูุงู ุงูุชุฎุงุจ ฺฉูุฏ.');
                return;
            }

            const characterName = characterModal.dataset.character;
            const uploaderName = auth.currentUser.email || `ฺฉุงุฑุจุฑ ${auth.currentUser.uid.substring(0, 8)}`;
            const timestamp = new Date().toISOString();
            const fileRef = ref(storage, `artifacts/${appId}/character_assets/${characterName}/${file.name}-${timestamp}`);

            uploadBtn.disabled = true;
            uploadProgressText.textContent = "ุฏุฑ ุญุงู ุขูพููุฏ...";
            uploadProgressText.classList.remove('hidden');

            try {
                const uploadTask = await uploadBytes(fileRef, file);
                const url = await getDownloadURL(uploadTask.ref);

                const assetsCollectionRef = collection(db, `/artifacts/${appId}/public/data/character_assets`);
                await addDoc(assetsCollectionRef, {
                    name: file.name,
                    url: url,
                    type: file.type.startsWith('image') ? 'image' : 'video',
                    characterName: characterName,
                    uploader: uploaderName,
                    timestamp: serverTimestamp()
                });
                
                e.target.reset();
                uploadProgressText.textContent = "ุขูพููุฏ ูููู!";
                alert('ูุงู ุจุง ููููุช ุขูพููุฏ ุดุฏ!');
            } catch (error) {
                console.error("Error uploading file:", error);
                uploadProgressText.textContent = "ุฎุทุง ุฏุฑ ุขูพููุฏ.";
                alert('ุฎุทุง ุฏุฑ ุขูพููุฏ ูุงู.');
            } finally {
                uploadBtn.disabled = false;
                uploadProgressText.classList.add('hidden');
            }
        };

        const showCharacterModal = (character) => {
            characterModal.dataset.character = character.name;
            document.getElementById('modal-name').textContent = character.name;
            document.getElementById('modal-vibe').textContent = character.vibe;
            document.getElementById('modal-humor').textContent = character.humor;
            document.getElementById('modal-style').textContent = character.style;
            document.getElementById('modal-mantra').textContent = character.mantra;
            
            characterModal.classList.remove('hidden');
            
            const assetsCollectionRef = collection(db, `/artifacts/${appId}/public/data/character_assets`);
            const q = query(assetsCollectionRef, where("characterName", "==", character.name));
            
            onSnapshot(q, (snapshot) => {
                characterGallery.innerHTML = '';
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const item = document.createElement('div');
                    item.className = 'w-full aspect-square relative rounded-lg overflow-hidden shadow-lg';
                    if (data.type === 'image') {
                        item.innerHTML = `<img src="${data.url}" alt="${data.name}" class="w-full h-full object-cover">`;
                    } else if (data.type === 'video') {
                        item.innerHTML = `<video src="${data.url}" controls class="w-full h-full object-cover"></video>`;
                    }
                    characterGallery.appendChild(item);
                });
            }, (error) => {
                console.error("Error fetching character assets:", error);
                characterGallery.innerHTML = `<p class="text-red-400">ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ูุงูโูุง.</p>`;
            });
        };

        const closeCharacterModal = () => {
            characterModal.classList.add('hidden');
        };
        
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = e.target.email.value;
            const password = e.target.password.value;
            try {
                await signInWithEmailAndPassword(auth, email, password);
            } catch (error) {
                alert('ุฎุทุง ุฏุฑ ูุฑูุฏ: ' + error.message);
            }
        });

        logoutBtn.addEventListener('click', async () => {
            try {
                await signOut(auth);
            } catch (error) {
                console.error("Error logging out:", error);
            }
        });

        fileUpdateForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const fileName = e.target.fileName.value;
            if (!fileName) return;

            const uploaderName = auth.currentUser.email || `ฺฉุงุฑุจุฑ ${auth.currentUser.uid.substring(0, 8)}`;
            const fileUpdatesCollectionRef = collection(db, `/artifacts/${appId}/public/data/file_updates`);
            
            try {
                await addDoc(fileUpdatesCollectionRef, {
                    fileName,
                    uploader: uploaderName,
                    timestamp: serverTimestamp()
                });
                e.target.reset();
            } catch (error) {
                console.error("Error adding file update:", error);
                alert('ุฎุทุง ุฏุฑ ุจูโุฑูุฒุฑุณุงู ูุงู.');
            }
        });

        characterUploadForm.addEventListener('submit', uploadFileForCharacter);
        closeCharacterModalBtn.addEventListener('click', closeCharacterModal);

        const characters = [
            { name: "ุฌุงุฏูฺฏุฑ ุจููุด", vibe: "ุฏุงุณุชุงูโุณุงุฒุ chaotic ุงูุง ุฌุฐุงุจ.", humor: "ุดุฑูุน ุจุง ูฺุ ูพุงุงู ุจุง ฺฉ ุฏุงุณุชุงู ุบุฑูุงุจู ุจุงูุฑ.", style: "ุนุจุง ุจููุดุ ุฌุฒุฆุงุช ุทูุงุ ุฒูุฌุฑ.", mantra: "Every move is a love storyโฆ or a scam.", color: "bg-purple-800" },
            { name: "ุฌุงุฏูฺฏุฑ ุขุจ", vibe: "ุขุฑุงูุ ฺฉูโุญุฑูุ ูุฑ ฺฉูููโุงุด ูพุฑูุนูุง.", humor: "ุทูุฒ ฺฉูุงูโุขูุฒ ู ููุณู.", style: "ุนุจุง ุขุจ ุณูุทูุชุ ุนูฺฉ ุขูุชุงุจ.", mantra: "Silence is the loudest flex.", color: "bg-blue-800" },
            { name: "ASMR Beauty Guru", vibe: "ุงุบุฑุงูโุดุฏูุ ุขุฑุงูุดโุฏููุฏู ุฏุฑ ุธุงูุฑุ ูู ุจุง ุฏุงููฺฏโูุง ุจุงูุฒู ู ุบุฑููุทู.", humor: "ุงุฌุงุฏ ุชูุด ุงุฒ ุทุฑู ุฌููุงุช ุบุฑููุชุธุฑู.", style: "ูพุณโุฒููู ูพุงุณุชูุ ูฺฉุฑููููโูุง ASMR ุจุฒุฑฺฏ.", mantra: "Relaxโฆ I'm just about to tell you something you'll hate.", color: "bg-pink-800" },
            { name: "Love Island Parody", vibe: "ฺฉุงุฑุงฺฉุชุฑ ุงููููุฆูุณุฑ ุนุดูุ ุนุงุดู ููุงุด ู ุฏุฑูุบ.", humor: "ูุณุฎุฑู ฺฉุฑุฏู ุงุตุทูุงุญุงุช ู ุฑูุชุงุฑูุง ุงููููุฆูุณุฑ.", style: "ูพุณโุฒููู ุฌุฒุฑูโุงุ ูุจุงุณโูุง ุฑูฺฏุงุฑูฺฏ.", mantra: "In this love game, my only goal is to winโฆ and get sponsored.", color: "bg-teal-800" },
            { name: "Music Video Parody", vibe: "ุขุฑุชุณุช ุฎูุฏุดูุชู ู ุจุงุงุณุชุนุฏุงุฏ.", humor: "ุงุณุชูุงุฏู ุงุฒ ุงุตุทูุงุญุงุช ููุณู ุจุฑุง ุดูุฎ.", style: "ุงุณุชูุฏู ููุณูุ ูุจุงุณโูุง street style.", mantra: "The only thing I'm dropping is the beatโฆ and maybe some truth bombs.", color: "bg-red-800" },
            { name: "Fitness Guru", vibe: "ูุฑุจ ุงูฺฏุฒุด ุฏุฑ ุธุงูุฑุ ุจุง ูุญุชูุง ุจููุฏู.", humor: "ุงุบุฑุงู ุฏุฑ ุฌููุงุช ุงูฺฏุฒุด.", style: "ุจุงุดฺฏุงู ูุฏุฑูุ ูุจุงุณ ูุฑุฒุด ุชูฺฏ.", mantra: "I'm not here to get you in shape, I'm here to sell you the shape I'm in.", color: "bg-orange-800" },
            { name: "Serious News Anchor", vibe: "ุฌุฏุ ุงูุง ุจุง ูููุฐ ูู ู ุชุฑูุฏ.", humor: "ุดฺฉุณุชู ุฌุฏุช ุฎุจุฑ ุจุง ฺฉ ุดูุฎ.", style: "ุงุณุชูุฏู ุฎุจุฑ ุดฺฉ.", mantra: "And now for the news you didn't ask for, but desperately needed.", color: "bg-gray-700" },
            { name: "Business Tycoon", vibe: "ุฎุดฺฉ ู ููุทูุ ููู ฺุฒ ุฑุง ุจุฒูุณ ูโุจูุฏ.", humor: "ุงุณุชูุงุฏู ุงุฒ ุงุตุทูุงุญุงุช ูุงู ุจุฑุง ุชูุตู ุฑูุงุจุท.", style: "ุฏูุชุฑ ฺฉุงุฑ ุดฺฉุ ูุจุงุณ ุฑุณู.", mantra: "Everything is a business opportunityโฆ even silence.", color: "bg-indigo-800" },
            { name: "Meme Creator", vibe: "ุจุง ุณุฑุนุช ููุฑ ุงุฒ ุชุฑูุฏูุง ุงุณุชูุงุฏู ูโฺฉูุฏ.", humor: "ุงุฌุงุฏ ููโูุง ูุณุฎุฑู ุงุฒ ุชุฑูุฏูุง.", style: "ูพุณโุฒููู ุณุงุฏูุ ุจุง ุงูฺฉุชโูุง TikTok.", mantra: "If it's a trend, it's my content.", color: "bg-green-800" },
            { name: "Influencer Parody", vibe: "ููุงุด ุชูุงู ุฌุฒุฆุงุช ุฒูุฏฺฏ ุจุง ุงุบุฑุงู.", humor: "ุชููุฏ ุงุฒ ุฑูุชุงุฑ ุงููููุฆูุณุฑูุง.", style: "ูพุณโุฒููู ููุงุธุฑ ุทุจุน ุง ฺฉุงููโูุง ุดฺฉ.", mantra: "My life is a movie... and you're all just watching.", color: "bg-rose-800" }
        ];

        const tools = [
            { name: "Runway", status: "(ุฏุฑ ุญุงู ุญุงุถุฑ ุฏุงุฑุฏ)", desc: "ุจุฑุง ุชููุฏ ู ูุฑุงุด ูุฏู.", icon: "๐ฌ" },
            { name: "VEO 3", status: "(ูุงุฒ ุจู ุฎุฑุฏ)", desc: "ุจุฑุง ุณุงุฎุช ุตุญููโูุง ุณููุง.", icon: "๐ฅ" },
            { name: "Scenario AI", status: "(ูุงุฒ ุจู ุฎุฑุฏ)", desc: "ุจุฑุง ุณุงุฎุช ูุฏู ฺฉุงุฑุงฺฉุชุฑูุง.", icon: "๐ค" },
            { name: "ElevenLabs", status: "(ูุงุฒ ุจู ุฎุฑุฏ)", desc: "ุจุฑุง ุตุฏุงฺฏุฐุงุฑ ุทุจุน.", icon: "๐ฃ๏ธ" },
            { name: "ChatGPT / Claude", status: "", desc: "ุจุฑุง ุงุฏูโูพุฑุฏุงุฒ ู ุงุณฺฉุฑูพุชโููุณ.", icon: "โ๏ธ" }
        ];

        const characterGrid = document.getElementById('character-grid');
        const toolsList = document.getElementById('tools-list');

        const populateBibleContent = () => {
            if (!characterGrid || !toolsList) {
                console.error("Bible content elements not found in the DOM.");
                return;
            }
            
            characters.forEach(char => {
                const card = document.createElement('div');
                card.className = `character-card bg-gray-700 p-4 rounded-lg text-center flex flex-col justify-center items-center h-40`;
                card.innerHTML = `<h5 class="text-xl font-bold">${char.name}</h5>`;
                card.addEventListener('click', () => showCharacterModal(char));
                characterGrid.appendChild(card);
            });

            tools.forEach(tool => {
                const item = document.createElement('li');
                item.className = 'flex items-start space-x-reverse space-x-3';
                item.innerHTML = `
                    <span class="text-2xl pt-1">${tool.icon}</span>
                    <div>
                        <span class="font-bold">${tool.name}</span>
                        <span class="text-sm text-yellow-400">${tool.status}</span>
                        <p class="text-sm text-gray-400">${tool.desc}</p>
                    </div>
                `;
                toolsList.appendChild(item);
            });

            const phaseCtx = document.getElementById('phaseChart').getContext('2d');
            const phaseChart = new Chart(phaseCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Foundation', 'Growth', 'Empire'],
                    datasets: [{
                        label: 'Project Phases',
                        data: [40, 30, 30],
                        backgroundColor: ['#a855f7', '#facc15', '#be185d'],
                        borderColor: '#1f2937',
                        borderWidth: 4,
                        hoverOffset: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                color: '#d1d5db',
                                font: {
                                    family: 'Vazirmatn',
                                    size: 14
                                },
                                boxWidth: 20,
                                padding: 20
                            }
                        },
                        tooltip: {
                            titleFont: { family: 'Vazirmatn' },
                            bodyFont: { family: 'Vazirmatn' },
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        };

        window.onload = initFirebase;
    </script>
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
        }
        .character-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .character-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1);
        }
        .modal-bg {
            background-color: rgba(0, 0, 0, 0.7);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 min-h-screen flex items-center justify-center p-4">

    <!-- Login Page -->
    <div id="login-form" class="bg-gray-800 p-8 rounded-2xl shadow-lg border border-purple-800 w-full max-w-sm">
        <h2 class="text-3xl font-bold text-center mb-6 text-yellow-400">ูุฑูุฏ ุจู ุฏุงุดุจูุฑุฏ</h2>
        <form class="space-y-4">
            <div>
                <label for="email" class="block text-gray-400 mb-1">ุงูู ุณุงุฒูุงู</label>
                <input type="email" id="email" name="email" class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-600" required>
            </div>
            <div>
                <label for="password" class="block text-gray-400 mb-1">ุฑูุฒ ุนุจูุฑ</label>
                <input type="password" id="password" name="password" class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-600" required>
            </div>
            <button type="submit" class="w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition-colors duration-300">ูุฑูุฏ</button>
        </form>
        <div class="mt-6 text-center text-sm text-gray-500">
            <p>ุจุฑุง ุชุณุช ูโุชูุงูุฏ ุงุฒ ูุฑ ุงูู ู ุฑูุฒ ุนุจูุฑ ุงุณุชูุงุฏู ฺฉูุฏ.</p>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="main-dashboard" class="hidden w-full max-w-7xl bg-gray-800 p-8 rounded-2xl shadow-lg border border-purple-800 space-y-8">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center border-b border-gray-700 pb-4 mb-8">
            <h1 class="text-3xl font-bold text-yellow-400 mb-2 md:mb-0">ุฏุงุดุจูุฑุฏ ูพุฑูฺู</h1>
            <div class="flex items-center space-x-reverse space-x-4">
                <p id="welcome-message" class="text-sm text-gray-400"></p>
                <button id="logout-btn" class="px-4 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition-colors duration-300">ุฎุฑูุฌ</button>
            </div>
        </div>

        <!-- Project Progress Section -->
        <div>
            <h2 class="text-2xl font-bold mb-4 text-purple-400">ูุถุนุช ูพุดุฑูุช ูพุฑูฺู</h2>
            <div class="bg-gray-700 rounded-full h-8 overflow-hidden relative">
                <div id="progress-fill" class="bg-green-500 h-full transition-all duration-500 ease-in-out" style="width: 0%;"></div>
                <div id="progress-text" class="absolute inset-0 flex items-center justify-center text-sm text-white font-bold">0% ุชฺฉูู ุดุฏู</div>
            </div>
            <p class="text-sm text-gray-400 mt-2">ุงู ููุงุฑ ูพุดุฑูุช ุจู ุตูุฑุช ูุญุธูโุง ุจูโุฑูุฒ ูโุดูุฏ ู ูุถุนุช ฺฉู ูพุฑูฺู ุฑุง ูุดุงู ูโุฏูุฏ.</p>
        </div>

        <!-- File Updates Section -->
        <div>
            <h2 class="text-2xl font-bold mb-4 text-purple-400">ุจูโุฑูุฒุฑุณุงู ูุงูโูุง</h2>
            <form id="file-update-form" class="bg-gray-700 p-4 rounded-lg flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-reverse md:space-x-4 mb-6">
                <input type="text" id="fileName" name="fileName" placeholder="ูุงู ูุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ..." class="w-full md:flex-1 px-4 py-2 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400" required>
                <button type="submit" class="w-full md:w-auto px-6 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold rounded-lg transition-colors duration-300">ุซุจุช ุจูโุฑูุฒุฑุณุงู</button>
            </form>
            <ul id="file-list" class="space-y-4">
            </ul>
        </div>
        
        <hr class="my-8 border-gray-700" />
        
        <!-- The AI Content Bible Section -->
        <div>
            <h2 class="text-2xl font-bold mb-6 text-yellow-400">ููุดู ุฑุงู ู Bible ูุญุชูุง AI</h2>
            
            <!-- Mindset Bible -->
            <div class="bg-gray-700 p-6 rounded-2xl mb-8 space-y-6">
                <div class="border-b border-gray-600 pb-4 mb-4">
                    <h3 class="text-2xl font-bold text-yellow-400">Mindset Bible โ Wizards of the Persian Streets</h3>
                    <p class="text-gray-300 mt-2">"Ancient wisdom. Modern mischief."</p>
                </div>
                
                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">1. Core Identity โ ูุง ฺฉ ูุณุชูุ</h4>
                    <p class="text-gray-300 leading-7">ูุณุฎู ุฎุงู ุงุฒ OGโูุง ุงุฑุงู ฺฉู ุงูฺฏุงุฑ ุงุฒ ุฏู ุชุงุฑุฎ ุงููุฏูุ ูู ุฒุจุงู ู ุฑูุฑูุณโูุงุดูู 100ูช ุขูพุฏุช ู ุชู ุจุงุฒ ุงูุฑูุฒ. Mystical + Street Smart โ ุงุฒ ุดุนุฑ ุญุงูุธ ู ูููุงูุง ูฺฏูุ ูู ูููู ูุญุธู DM ุฑู ูู ฺฺฉ ูโฺฉูู. ุจูโุธุงูุฑ ุนุงุฑู ู ููุณููุ ูู ูุฏููู ุชูุด Playboy & Meme Lord ูุณุชู. ูุฑ ุญุฑูุดูู ุจุงุฏ ุฏู ูุงู ุฏุงุดุชู ุจุงุดู: ูุงูโ ุดูุฎ ู ุฎูุฏูโุฏุงุฑ ุจุฑุง ููู. ูุงูโ ููุณู ุง ููุดููุฏุงูู ฺฉู ุงููุด ูฺฏุฑู.</p>
                </div>

                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">2. Core Attitude โ ูุญู ู ุงูุฑฺ</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-yellow-400">Self-Respect = Non-Negotiable:</strong> ุญุช ุชู ูุณุฎุฑูโุชุฑู ูุญุธูโูุง ุฎูุฏุดูู ุฑู ฺฉูฺฺฉ ููโฺฉูู.</li>
                        <li><strong class="text-yellow-400">Take it or Leave it:</strong> ุฌูุฑ ุญุฑู ูุฒูู ฺฉู ุงูฺฏุงุฑ ููุดู ุงูุชุฎุงุจ ุจุง ูุฎุงุทุจูุ ูู ุงุญููุงููโุณุช ฺฉู ูุฎูุง ุจููู.</li>
                        <li><strong class="text-yellow-400">Playful Disrespect:</strong> ุดูุฎ ูโฺฉููุ ูู ูู ุจุฑุง ุฌูุจ ุชูุฌู โ ุจุฑุง ุงูฺฉู ูุฐุช ุจุจุฑู.</li>
                        <li><strong class="text-yellow-400">Meta-Aware:</strong> ูุฏููู ุฏุงุฑู ุดู ูุฏูุ ูู ุชุธุงูุฑ ูโฺฉูู ูููโฺ ุฌุฏู.</li>
                    </ul>
                </div>

                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">3. Golden Rules โ ููุงูู ููุฏุณ ฺฉุงุฑุงฺฉุชุฑ</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-yellow-400">Never Beg for Attention:</strong> ููุดู ุงูฺฏุงุฑ ุฏุงุฑ ุจุง ู ุฏูุณุช ูุฏู ุชู ููููโุฎููู ููุณููโุจุงู ูโฺฉูุ ูู ุจุง ูุงููุฆุฑูุง ุงูุชูุงุณ ุชุนุงูู.</li>
                        <li><strong class="text-yellow-400">Twist the Truth:</strong> ู ูุงูุนุช ุณุงุฏู ุฑู ุจฺฏุฑุ ุจุง exaggeration ู ููุณูู ูุงุท ฺฉู ุชุง ูู ุจุงูุฒู ุจุดู ูู ุนูู.</li>
                        <li><strong class="text-yellow-400">Prop as a Portal:</strong> ูุฑ ูุณูุช ุจุง ู ุดุก ุง ุชุตูุฑ ุดุฑูุน ูุดู (ุดุทุฑูุฌุ ูพุชุฒุงุ TVโฆ) ฺฉู ุชุจุฏู ูุดู ุจู ุฏุฑูุงุฒู ุจุญุซ.</li>
                        <li><strong class="text-yellow-400">Trend Hijacking:</strong> ุชุฑูุฏ ุฑูุฒ ููุท ููุทู ูุฑูุฏ ุจู ุฏุงุณุชุงููุ ูู ููุถูุน ุงุตู.</li>
                        <li><strong class="text-yellow-400">Callback Punch:</strong> ุขุฎุฑุด ููุดู ุจู ููุทู ุดุฑูุน ุจุฑฺฏุฑุฏุ ูู ุจุง twist ฺฉู ููู ุฑู ุจุฎูุฏููู ุง ุชู ูฺฉุฑ ุจุจุฑู.</li>
                    </ul>
                </div>

                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">4. Humor Philosophy โ ููุณูู ุดูุฎ</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-yellow-400">Absurd but Believable:</strong> ุฏุงุณุชุงู ุจุงุฏ ุงูููุฏุฑ ุฏูููู ุจุงุดู ฺฉู ุจุฎูุฏุ ูู ุงูููุฏุฑ ูุงูุน ุจุงุดู ฺฉู ุจฺฏ ยซููฺฉูู ุงุชูุงู ุจูุชูยป.</li>
                        <li><strong class="text-yellow-400">Jump Cut Philosophy:</strong> ูุณุท ุจุญุซ ุฏูโุฏุณุชุ ูุงฺฏูุงู ฺฉ monologue ุนูู ู ุดุงุนุฑุงููุ ุจุนุฏ ุจุฑฺฏุฑุฏ ุจู ุดูุฎ.</li>
                        <li><strong class="text-yellow-400">Meme + Masnavi:</strong> ู ุจุช ุดุนุฑ ุง ุงุตุทูุงุญ ุนุฑูุงู ุฑู ุจุง ุฑูุฑูุณ ุงูุณุชุงฺฏุฑุงู/ุชฺฉโุชุงฺฉ ุจุดฺฉู.</li>
                        <li><strong class="text-yellow-400">Deadpan Delivery:</strong> ุฎู ููุชุง punchline ุฑู ุจุง ฺูุฑู ุจโุงุญุณุงุณ ุจุฏู ุชุง ุงุซุฑุด ุฏู ุจุฑุงุจุฑ ุดู.</li>
                    </ul>
                </div>

                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">5. Visual & Aesthetic Code โ ููุช ุจุตุฑ</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-yellow-400">Setting:</strong> ุงุชุงู ุนุงุฑูุงูู ุงุฑุงู ุจุง ูุฑุดุ ุดุดู ุฑูฺฏุ ุดูุนุ ูู ููุดู ู ุนูุตุฑ ูุฏุฑู ู ุบุฑููุชุธุฑู ุชู ูพุณโุฒููู (ูุฆููุ ูพูุณุชุฑ ุชุฑูพุ ูพูโุงุณุชุดู).</li>
                        <li><strong class="text-yellow-400">Wardrobe:</strong> ูุจุงุณโูุง ุฌุงุฏู-ุงุฑุงู (ุนุจุงุ ุฑุฏุง ุจููุฏ) ูู ุจุง ุฌุฒุฆุงุช ุบุฑ ุณูุช (ุนูฺฉ ุขูุชุงุจุ ฺฉุชุงูุ ุงุฑูพุงุฏ).</li>
                        <li><strong class="text-yellow-400">Cinematography:</strong> ุชุฑฺฉุจ ููุงูุง ุณููุง slow zoom ุจุง Cutูุง ุณุฑุน meme-style.</li>
                        <li><strong class="text-yellow-400">Lighting:</strong> ฺฏุฑูุง ุดูุน + ูุงูู ุฌุงุฏู + ุฏุฑุฎุดุด ูุฆูู.</li>
                    </ul>
                </div>

                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">6. Psychological Backbone โ ุณุชูู ููุฑุงุช ูฺฉุฑ</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-300">
                        <li><strong class="text-yellow-400">We are the bridge:</strong> ูพู ุจู ฺฏุฐุดุชู ุจุงุดฺฉูู ู ุญุงู ุจโุฑุญู.</li>
                        <li><strong class="text-yellow-400">We make wisdom fun:</strong> ุฎุฑุฏ ุฑู ุงุฒ ูุนุจุฏ ุขูุฑุฏู ูุณุท ุฎุงุจูู.</li>
                        <li><strong class="text-yellow-400">We never lose frame:</strong> ุญุช ููุช ุฎูุฏููู ุฑู ูุณุฎุฑู ูโฺฉููุ ฺฉูุชุฑู ุตุญูู ุฏุณุช ูุงุณุช.</li>
                        <li><strong class="text-yellow-400">We flirt with ideas:</strong> ุจุง ููุณูู ููููโุฌูุฑ ุฑูุชุงุฑ ูโฺฉูู ฺฉู ุจุง ฺฉ ุนุดู ุชุงุจุณุชูู ุฑูุชุงุฑ ูโฺฉู: ุฌุฏ ูู ูู ุฌุฏ.</li>
                    </ul>
                </div>
                
                <div class="space-y-4 pt-4 border-t border-gray-600">
                    <h4 class="text-xl font-bold text-purple-400">7. One-Sentence Mantra โ ูุงูุชุฑุง ฺฉโุฎุท</h4>
                    <p class="text-gray-300 leading-7">ยซูุง ูุณู ุนุงุฑู ูุณุชู ฺฉู ูููุฏ ุดูุฎโุทุจุน ุจูุชุฑู ุณูุงุญ ุฏุฑ ุจุฑุงุจุฑ ุฒูุงูู ุงุณุช.ยป</p>
                </div>
            </div>
            
            <hr class="my-8 border-gray-700" />

            <div class="grid md:grid-cols-3 gap-8 mb-12">
                <div class="md:col-span-1 bg-gray-800 p-6 rounded-2xl shadow-lg border border-purple-800">
                    <h4 class="text-2xl font-bold mb-4 text-yellow-400">๐ฏ ูุงุฒ ุงูู: Foundation</h4>
                    <p class="text-gray-300">ุณุงุฎุช ฺฉุงุฑุงฺฉุชุฑูุงุ ุชุนุฑู ูุญู ู ููุช ุจุตุฑุ ุชุณุช ูุญุชูุง ุงููู ู ูพุฏุง ฺฉุฑุฏู ูุณุชู ุทุฑูุฏุงุฑุงู ููุงุฏุงุฑ.</p>
                </div>
                <div class="md:col-span-2 bg-gray-800 p-6 rounded-2xl shadow-lg border border-purple-800 flex items-center justify-center">
                    <div class="chart-container w-full max-w-md h-64 mx-auto">
                        <canvas id="phaseChart"></canvas>
                    </div>
                </div>
            </div>
            
            <h4 class="text-xl font-bold my-4 text-purple-400">ุดุฎุตุชโูุง ุงุตู (Core Cast)</h4>
            <div id="character-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
            </div>

            <h4 class="text-xl font-bold mt-8 mb-4 text-purple-400">ุงุจุฒุงุฑ ูุงุฒู</h4>
            <div class="bg-gray-800 p-4 rounded-2xl shadow-lg border border-purple-800 max-w-4xl mx-auto">
                <ul id="tools-list" class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 text-lg">
                </ul>
            </div>
        </div>
    </div>

    <!-- Character Details Modal -->
    <div id="character-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 modal-bg">
        <div class="bg-gray-800 p-8 rounded-2xl shadow-lg border border-purple-800 w-full max-w-3xl space-y-6">
            <div class="flex justify-between items-center border-b border-gray-700 pb-4">
                <h3 id="modal-name" class="text-3xl font-bold text-yellow-400"></h3>
                <button id="close-character-modal" class="text-gray-400 hover:text-red-500 text-3xl">&times;</button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4 text-lg">
                    <p><strong>ูฺฺฏ ุงุตู:</strong> <span id="modal-vibe" class="text-gray-300"></span></p>
                    <p><strong>ฺฉุฏ ุดูุฎ:</strong> <span id="modal-humor" class="text-gray-300"></span></p>
                    <p><strong>ุงุณุชุงู ุจุตุฑ:</strong> <span id="modal-style" class="text-gray-300"></span></p>
                    <p><strong>ูุงูุชุฑุง:</strong> <span id="modal-mantra" class="text-gray-300"></span></p>
                </div>

                <div class="space-y-4">
                    <h4 class="text-xl font-bold text-purple-400">ุขูพููุฏ Assets</h4>
                    <form id="character-upload-form" class="space-y-2">
                        <label for="upload-type" class="block text-gray-400">ููุน ูุงู:</label>
                        <select id="upload-type" class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                            <option value="image">ุชุตูุฑ</option>
                            <option value="video">ูุฏู</option>
                        </select>
                        <input type="file" id="upload-file" class="w-full px-4 py-2 rounded-lg bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400" required>
                        <div class="flex items-center space-x-reverse space-x-4">
                            <button type="submit" id="upload-btn" class="px-6 py-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold rounded-lg transition-colors duration-300">ุขูพููุฏ</button>
                            <p id="upload-progress" class="hidden text-sm text-gray-400"></p>
                        </div>
                    </form>
                </div>
            </div>

            <hr class="my-6 border-gray-700" />
            
            <h4 class="text-xl font-bold text-purple-400">ฺฏุงูุฑ Assets</h4>
            <div id="character-gallery" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mt-4">
            </div>

        </div>
    </div>

</body>
</html>
